---
title: canonicalize-duplicate-pages
---

Choose canonical URLs based on WordLift entity type+name and GSC KPIs.

## Usage
- `worai canonicalize-duplicate-pages --input <gsc_csv> [options]`

## Options

| Option | Type | Default | Description |
| --- | --- | --- | --- |
| `--input` | string | required | Input GSC CSV generated by `google-search-console`. |
| `--output` | string | `canonical_targets.csv` | Output CSV path. |
| `--url-regex` | string | none | Regex to filter URLs of interest. |
| `--endpoint` | string | `https://api.wordlift.io/graphql` | WordLift GraphQL endpoint. |
| `--batch-size` | int | `25` | Batch size for GraphQL queries. |
| `--kpi-window` | choice | `28d` | KPI window: `7d`, `28d`, `3m`. |
| `--kpi-metric` | choice | `clicks` | KPI metric: `clicks`, `impressions`, `ctr`. |

## Examples
- `worai canonicalize-duplicate-pages --input gsc_pages.csv --output canonical_targets.csv`
- `worai canonicalize-duplicate-pages --input gsc_pages.csv --kpi-window 28d --kpi-metric clicks`

## Notes
- Requires `WORDLIFT_KEY` (or `wordlift.api_key` in config).
